<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DOCS-DB: server Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DOCS-DB
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Efficient Key-Value Store optimized for High-Write Workloads</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">server Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af9528be28ea578b974bf204c5f243958"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceserver.html#af9528be28ea578b974bf204c5f243958">parse_resp</a> (message)</td></tr>
<tr class="separator:af9528be28ea578b974bf204c5f243958"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b9245ee9914bb0a667c2ae880003376"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceserver.html#a4b9245ee9914bb0a667c2ae880003376">build_resp</a> (message)</td></tr>
<tr class="separator:a4b9245ee9914bb0a667c2ae880003376"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6fbd75c9a5ca26992ca5620c6213265"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceserver.html#aa6fbd75c9a5ca26992ca5620c6213265">build_resp_get</a> (message)</td></tr>
<tr class="separator:aa6fbd75c9a5ca26992ca5620c6213265"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa70791b3417643b600039ce0d7434b13"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceserver.html#aa70791b3417643b600039ce0d7434b13">build_error</a> (message)</td></tr>
<tr class="separator:aa70791b3417643b600039ce0d7434b13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee621386ace9d7508c81456bb2b868ee"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceserver.html#aee621386ace9d7508c81456bb2b868ee">handle_set</a> (key, value)</td></tr>
<tr class="separator:aee621386ace9d7508c81456bb2b868ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abac39492ae20bd1ebbd63e33e3fde61e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceserver.html#abac39492ae20bd1ebbd63e33e3fde61e">handle_get</a> (key)</td></tr>
<tr class="separator:abac39492ae20bd1ebbd63e33e3fde61e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6923f7939f756e2f63bc038dec4a219d"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceserver.html#a6923f7939f756e2f63bc038dec4a219d">handle_del</a> (key)</td></tr>
<tr class="separator:a6923f7939f756e2f63bc038dec4a219d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3fbf84945eeebf09c7064358a95c0da"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceserver.html#ab3fbf84945eeebf09c7064358a95c0da">handle_client</a> (reader, writer)</td></tr>
<tr class="separator:ab3fbf84945eeebf09c7064358a95c0da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f28bf6708def641aa9bdc29673f2a74"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceserver.html#a3f28bf6708def641aa9bdc29673f2a74">start_worker</a> (<a class="el" href="namespaceserver.html#ad56c2d79af6c57024f72afe5f809303c">host</a>, <a class="el" href="namespaceserver.html#af7b39ba3404872fb79e91b08ed362768">port</a>)</td></tr>
<tr class="separator:a3f28bf6708def641aa9bdc29673f2a74"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a28b61ee7d155bf42d0ef310001f64c34"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceserver.html#a28b61ee7d155bf42d0ef310001f64c34">lsm_tree</a> = None</td></tr>
<tr class="separator:a28b61ee7d155bf42d0ef310001f64c34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad56c2d79af6c57024f72afe5f809303c"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceserver.html#ad56c2d79af6c57024f72afe5f809303c">host</a> = &quot;127.0.0.1&quot;</td></tr>
<tr class="separator:ad56c2d79af6c57024f72afe5f809303c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7b39ba3404872fb79e91b08ed362768"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceserver.html#af7b39ba3404872fb79e91b08ed362768">port</a> = 6379</td></tr>
<tr class="separator:af7b39ba3404872fb79e91b08ed362768"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f38fe53de48f7ef32224eced3ebab4a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceserver.html#a9f38fe53de48f7ef32224eced3ebab4a">workers</a> = cpu_count()</td></tr>
<tr class="separator:a9f38fe53de48f7ef32224eced3ebab4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e03aa75669a1415bea1bbbdd0c92349"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceserver.html#a0e03aa75669a1415bea1bbbdd0c92349">processes</a> = []</td></tr>
<tr class="separator:a0e03aa75669a1415bea1bbbdd0c92349"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4526092e7ffb3a2fb5f5962e0f4a382"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceserver.html#ad4526092e7ffb3a2fb5f5962e0f4a382">pid</a> = asyncio.run(<a class="el" href="namespaceserver.html#a3f28bf6708def641aa9bdc29673f2a74">start_worker</a>(<a class="el" href="namespaceserver.html#ad56c2d79af6c57024f72afe5f809303c">host</a>, <a class="el" href="namespaceserver.html#af7b39ba3404872fb79e91b08ed362768">port</a>))</td></tr>
<tr class="separator:ad4526092e7ffb3a2fb5f5962e0f4a382"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="aa70791b3417643b600039ce0d7434b13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa70791b3417643b600039ce0d7434b13">&#9670;&nbsp;</a></span>build_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def server.build_error </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">@brief Build a RESP-2 error message.

This function constructs a RESP-2 error message, which includes an error
message prefixed with '-ERR'.

@param message The error message to send.
@return The encoded error message in bytes.
</pre> 
</div>
</div>
<a id="a4b9245ee9914bb0a667c2ae880003376"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b9245ee9914bb0a667c2ae880003376">&#9670;&nbsp;</a></span>build_resp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def server.build_resp </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">@brief Build a RESP-2 response message.

This function constructs a simple RESP-2 response message based on the input
message. The format of the response will be a simple string prefixed with '+'.

@param message The message to send.
@return The encoded RESP-2 message in bytes.
</pre> 
</div>
</div>
<a id="aa6fbd75c9a5ca26992ca5620c6213265"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6fbd75c9a5ca26992ca5620c6213265">&#9670;&nbsp;</a></span>build_resp_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def server.build_resp_get </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">@brief Build a RESP-2 GET response message.

This function constructs a RESP-2 GET response message, which includes the
length of the message followed by the actual message content.

@param message The message to send.
@return The encoded GET response message in bytes.
</pre> 
</div>
</div>
<a id="ab3fbf84945eeebf09c7064358a95c0da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3fbf84945eeebf09c7064358a95c0da">&#9670;&nbsp;</a></span>handle_client()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def server.handle_client </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>reader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>writer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">@brief Handle a client connection, parsing and responding to commands.

This function is responsible for handling client connections, reading requests,
parsing the commands, and sending appropriate responses back to the client.

It supports multiple commands, such as 'SET', 'GET', and 'DEL'.

@param reader The asyncio StreamReader to read client data.
@param writer The asyncio StreamWriter to send responses to the client.
</pre> 
</div>
</div>
<a id="a6923f7939f756e2f63bc038dec4a219d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6923f7939f756e2f63bc038dec4a219d">&#9670;&nbsp;</a></span>handle_del()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def server.handle_del </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">@brief Handle the 'DEL' command to delete a key from the LSM tree.

This function processes the 'DEL' command, deletes the specified key from
the LSM tree if it exists, and returns a success status. If the key does not
exist, the function returns None.

@param key The key to delete.
@return A string indicating the status or None if the key was not found.
</pre> 
</div>
</div>
<a id="abac39492ae20bd1ebbd63e33e3fde61e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abac39492ae20bd1ebbd63e33e3fde61e">&#9670;&nbsp;</a></span>handle_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def server.handle_get </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">@brief Handle the 'GET' command to retrieve the value for a key.

This function processes the 'GET' command, retrieves the value for the
provided key from the LSM tree, and returns the value along with a success flag.

@param key The key to retrieve.
@return A tuple containing:
    - flag (int): 1 if the key was found, 0 otherwise.
    - value (str or None): The value associated with the key, or None if not found.
</pre> 
</div>
</div>
<a id="aee621386ace9d7508c81456bb2b868ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee621386ace9d7508c81456bb2b868ee">&#9670;&nbsp;</a></span>handle_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def server.handle_set </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">@brief Handle the 'SET' command to store a key-value pair in the LSM tree.

This function processes the 'SET' command, stores the provided key-value pair
in the LSM tree, and returns an acknowledgment response.

@param key The key to store.
@param value The value to associate with the key.
@return A string indicating the status (e.g., "OK").
</pre> 
</div>
</div>
<a id="af9528be28ea578b974bf204c5f243958"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9528be28ea578b974bf204c5f243958">&#9670;&nbsp;</a></span>parse_resp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def server.parse_resp </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">@brief Parse a RESP-2 message to extract command and arguments.

This function parses a RESP-2 message and extracts the command and arguments
from the message. RESP-2 protocol is used in Redis-like systems for communication.

@param message The RESP message in bytes to be parsed.
@return A tuple containing:
    - command (str): The command extracted from the message.
    - args (list of str): The arguments for the command extracted from the message.
</pre> 
</div>
</div>
<a id="a3f28bf6708def641aa9bdc29673f2a74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f28bf6708def641aa9bdc29673f2a74">&#9670;&nbsp;</a></span>start_worker()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def server.start_worker </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">@brief Start a worker to handle client connections on a given host and port.

This function creates and runs an asyncio-based server worker, which listens for
client connections on the specified host and port. The worker will handle multiple
client connections in an asynchronous non-blocking manner.

@param host The host address to bind the server.
@param port The port to bind the server.
@return None
</pre> 
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ad56c2d79af6c57024f72afe5f809303c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad56c2d79af6c57024f72afe5f809303c">&#9670;&nbsp;</a></span>host</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string server.host = &quot;127.0.0.1&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a28b61ee7d155bf42d0ef310001f64c34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28b61ee7d155bf42d0ef310001f64c34">&#9670;&nbsp;</a></span>lsm_tree</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">server.lsm_tree = None</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad4526092e7ffb3a2fb5f5962e0f4a382"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4526092e7ffb3a2fb5f5962e0f4a382">&#9670;&nbsp;</a></span>pid</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">server.pid = asyncio.run(<a class="el" href="namespaceserver.html#a3f28bf6708def641aa9bdc29673f2a74">start_worker</a>(<a class="el" href="namespaceserver.html#ad56c2d79af6c57024f72afe5f809303c">host</a>, <a class="el" href="namespaceserver.html#af7b39ba3404872fb79e91b08ed362768">port</a>))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af7b39ba3404872fb79e91b08ed362768"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7b39ba3404872fb79e91b08ed362768">&#9670;&nbsp;</a></span>port</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int server.port = 6379</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a0e03aa75669a1415bea1bbbdd0c92349"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e03aa75669a1415bea1bbbdd0c92349">&#9670;&nbsp;</a></span>processes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list server.processes = []</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9f38fe53de48f7ef32224eced3ebab4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f38fe53de48f7ef32224eced3ebab4a">&#9670;&nbsp;</a></span>workers</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">server.workers = cpu_count()</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
