\hypertarget{namespaceserver}{}\doxysection{server Namespace Reference}
\label{namespaceserver}\index{server@{server}}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{namespaceserver_af9528be28ea578b974bf204c5f243958}{parse\+\_\+resp}} (message)
\item 
def \mbox{\hyperlink{namespaceserver_a4b9245ee9914bb0a667c2ae880003376}{build\+\_\+resp}} (message)
\item 
def \mbox{\hyperlink{namespaceserver_aa6fbd75c9a5ca26992ca5620c6213265}{build\+\_\+resp\+\_\+get}} (message)
\item 
def \mbox{\hyperlink{namespaceserver_aa70791b3417643b600039ce0d7434b13}{build\+\_\+error}} (message)
\item 
def \mbox{\hyperlink{namespaceserver_aee621386ace9d7508c81456bb2b868ee}{handle\+\_\+set}} (key, value)
\item 
def \mbox{\hyperlink{namespaceserver_abac39492ae20bd1ebbd63e33e3fde61e}{handle\+\_\+get}} (key)
\item 
def \mbox{\hyperlink{namespaceserver_a6923f7939f756e2f63bc038dec4a219d}{handle\+\_\+del}} (key)
\item 
def \mbox{\hyperlink{namespaceserver_ab3fbf84945eeebf09c7064358a95c0da}{handle\+\_\+client}} (reader, writer)
\item 
def \mbox{\hyperlink{namespaceserver_a3f28bf6708def641aa9bdc29673f2a74}{start\+\_\+worker}} (\mbox{\hyperlink{namespaceserver_ad56c2d79af6c57024f72afe5f809303c}{host}}, \mbox{\hyperlink{namespaceserver_af7b39ba3404872fb79e91b08ed362768}{port}})
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespaceserver_a28b61ee7d155bf42d0ef310001f64c34}{lsm\+\_\+tree}} = None
\item 
string \mbox{\hyperlink{namespaceserver_ad56c2d79af6c57024f72afe5f809303c}{host}} = \char`\"{}127.\+0.\+0.\+1\char`\"{}
\item 
int \mbox{\hyperlink{namespaceserver_af7b39ba3404872fb79e91b08ed362768}{port}} = 6379
\item 
\mbox{\hyperlink{namespaceserver_a9f38fe53de48f7ef32224eced3ebab4a}{workers}} = cpu\+\_\+count()
\item 
list \mbox{\hyperlink{namespaceserver_a0e03aa75669a1415bea1bbbdd0c92349}{processes}} = \mbox{[}$\,$\mbox{]}
\item 
\mbox{\hyperlink{namespaceserver_ad4526092e7ffb3a2fb5f5962e0f4a382}{pid}} = asyncio.\+run(\mbox{\hyperlink{namespaceserver_a3f28bf6708def641aa9bdc29673f2a74}{start\+\_\+worker}}(\mbox{\hyperlink{namespaceserver_ad56c2d79af6c57024f72afe5f809303c}{host}}, \mbox{\hyperlink{namespaceserver_af7b39ba3404872fb79e91b08ed362768}{port}}))
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespaceserver_aa70791b3417643b600039ce0d7434b13}\label{namespaceserver_aa70791b3417643b600039ce0d7434b13}} 
\index{server@{server}!build\_error@{build\_error}}
\index{build\_error@{build\_error}!server@{server}}
\doxysubsubsection{\texorpdfstring{build\_error()}{build\_error()}}
{\footnotesize\ttfamily def server.\+build\+\_\+error (\begin{DoxyParamCaption}\item[{}]{message }\end{DoxyParamCaption})}

\begin{DoxyVerb}@brief Build a RESP-2 error message.

This function constructs a RESP-2 error message, which includes an error
message prefixed with '-ERR'.

@param message The error message to send.
@return The encoded error message in bytes.
\end{DoxyVerb}
 \mbox{\Hypertarget{namespaceserver_a4b9245ee9914bb0a667c2ae880003376}\label{namespaceserver_a4b9245ee9914bb0a667c2ae880003376}} 
\index{server@{server}!build\_resp@{build\_resp}}
\index{build\_resp@{build\_resp}!server@{server}}
\doxysubsubsection{\texorpdfstring{build\_resp()}{build\_resp()}}
{\footnotesize\ttfamily def server.\+build\+\_\+resp (\begin{DoxyParamCaption}\item[{}]{message }\end{DoxyParamCaption})}

\begin{DoxyVerb}@brief Build a RESP-2 response message.

This function constructs a simple RESP-2 response message based on the input
message. The format of the response will be a simple string prefixed with '+'.

@param message The message to send.
@return The encoded RESP-2 message in bytes.
\end{DoxyVerb}
 \mbox{\Hypertarget{namespaceserver_aa6fbd75c9a5ca26992ca5620c6213265}\label{namespaceserver_aa6fbd75c9a5ca26992ca5620c6213265}} 
\index{server@{server}!build\_resp\_get@{build\_resp\_get}}
\index{build\_resp\_get@{build\_resp\_get}!server@{server}}
\doxysubsubsection{\texorpdfstring{build\_resp\_get()}{build\_resp\_get()}}
{\footnotesize\ttfamily def server.\+build\+\_\+resp\+\_\+get (\begin{DoxyParamCaption}\item[{}]{message }\end{DoxyParamCaption})}

\begin{DoxyVerb}@brief Build a RESP-2 GET response message.

This function constructs a RESP-2 GET response message, which includes the
length of the message followed by the actual message content.

@param message The message to send.
@return The encoded GET response message in bytes.
\end{DoxyVerb}
 \mbox{\Hypertarget{namespaceserver_ab3fbf84945eeebf09c7064358a95c0da}\label{namespaceserver_ab3fbf84945eeebf09c7064358a95c0da}} 
\index{server@{server}!handle\_client@{handle\_client}}
\index{handle\_client@{handle\_client}!server@{server}}
\doxysubsubsection{\texorpdfstring{handle\_client()}{handle\_client()}}
{\footnotesize\ttfamily def server.\+handle\+\_\+client (\begin{DoxyParamCaption}\item[{}]{reader,  }\item[{}]{writer }\end{DoxyParamCaption})}

\begin{DoxyVerb}@brief Handle a client connection, parsing and responding to commands.

This function is responsible for handling client connections, reading requests,
parsing the commands, and sending appropriate responses back to the client.

It supports multiple commands, such as 'SET', 'GET', and 'DEL'.

@param reader The asyncio StreamReader to read client data.
@param writer The asyncio StreamWriter to send responses to the client.
\end{DoxyVerb}
 \mbox{\Hypertarget{namespaceserver_a6923f7939f756e2f63bc038dec4a219d}\label{namespaceserver_a6923f7939f756e2f63bc038dec4a219d}} 
\index{server@{server}!handle\_del@{handle\_del}}
\index{handle\_del@{handle\_del}!server@{server}}
\doxysubsubsection{\texorpdfstring{handle\_del()}{handle\_del()}}
{\footnotesize\ttfamily def server.\+handle\+\_\+del (\begin{DoxyParamCaption}\item[{}]{key }\end{DoxyParamCaption})}

\begin{DoxyVerb}@brief Handle the 'DEL' command to delete a key from the LSM tree.

This function processes the 'DEL' command, deletes the specified key from
the LSM tree if it exists, and returns a success status. If the key does not
exist, the function returns None.

@param key The key to delete.
@return A string indicating the status or None if the key was not found.
\end{DoxyVerb}
 \mbox{\Hypertarget{namespaceserver_abac39492ae20bd1ebbd63e33e3fde61e}\label{namespaceserver_abac39492ae20bd1ebbd63e33e3fde61e}} 
\index{server@{server}!handle\_get@{handle\_get}}
\index{handle\_get@{handle\_get}!server@{server}}
\doxysubsubsection{\texorpdfstring{handle\_get()}{handle\_get()}}
{\footnotesize\ttfamily def server.\+handle\+\_\+get (\begin{DoxyParamCaption}\item[{}]{key }\end{DoxyParamCaption})}

\begin{DoxyVerb}@brief Handle the 'GET' command to retrieve the value for a key.

This function processes the 'GET' command, retrieves the value for the
provided key from the LSM tree, and returns the value along with a success flag.

@param key The key to retrieve.
@return A tuple containing:
    - flag (int): 1 if the key was found, 0 otherwise.
    - value (str or None): The value associated with the key, or None if not found.
\end{DoxyVerb}
 \mbox{\Hypertarget{namespaceserver_aee621386ace9d7508c81456bb2b868ee}\label{namespaceserver_aee621386ace9d7508c81456bb2b868ee}} 
\index{server@{server}!handle\_set@{handle\_set}}
\index{handle\_set@{handle\_set}!server@{server}}
\doxysubsubsection{\texorpdfstring{handle\_set()}{handle\_set()}}
{\footnotesize\ttfamily def server.\+handle\+\_\+set (\begin{DoxyParamCaption}\item[{}]{key,  }\item[{}]{value }\end{DoxyParamCaption})}

\begin{DoxyVerb}@brief Handle the 'SET' command to store a key-value pair in the LSM tree.

This function processes the 'SET' command, stores the provided key-value pair
in the LSM tree, and returns an acknowledgment response.

@param key The key to store.
@param value The value to associate with the key.
@return A string indicating the status (e.g., "OK").
\end{DoxyVerb}
 \mbox{\Hypertarget{namespaceserver_af9528be28ea578b974bf204c5f243958}\label{namespaceserver_af9528be28ea578b974bf204c5f243958}} 
\index{server@{server}!parse\_resp@{parse\_resp}}
\index{parse\_resp@{parse\_resp}!server@{server}}
\doxysubsubsection{\texorpdfstring{parse\_resp()}{parse\_resp()}}
{\footnotesize\ttfamily def server.\+parse\+\_\+resp (\begin{DoxyParamCaption}\item[{}]{message }\end{DoxyParamCaption})}

\begin{DoxyVerb}@brief Parse a RESP-2 message to extract command and arguments.

This function parses a RESP-2 message and extracts the command and arguments
from the message. RESP-2 protocol is used in Redis-like systems for communication.

@param message The RESP message in bytes to be parsed.
@return A tuple containing:
    - command (str): The command extracted from the message.
    - args (list of str): The arguments for the command extracted from the message.
\end{DoxyVerb}
 \mbox{\Hypertarget{namespaceserver_a3f28bf6708def641aa9bdc29673f2a74}\label{namespaceserver_a3f28bf6708def641aa9bdc29673f2a74}} 
\index{server@{server}!start\_worker@{start\_worker}}
\index{start\_worker@{start\_worker}!server@{server}}
\doxysubsubsection{\texorpdfstring{start\_worker()}{start\_worker()}}
{\footnotesize\ttfamily def server.\+start\+\_\+worker (\begin{DoxyParamCaption}\item[{}]{host,  }\item[{}]{port }\end{DoxyParamCaption})}

\begin{DoxyVerb}@brief Start a worker to handle client connections on a given host and port.

This function creates and runs an asyncio-based server worker, which listens for
client connections on the specified host and port. The worker will handle multiple
client connections in an asynchronous non-blocking manner.

@param host The host address to bind the server.
@param port The port to bind the server.
@return None
\end{DoxyVerb}
 

\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{namespaceserver_ad56c2d79af6c57024f72afe5f809303c}\label{namespaceserver_ad56c2d79af6c57024f72afe5f809303c}} 
\index{server@{server}!host@{host}}
\index{host@{host}!server@{server}}
\doxysubsubsection{\texorpdfstring{host}{host}}
{\footnotesize\ttfamily string server.\+host = \char`\"{}127.\+0.\+0.\+1\char`\"{}}

\mbox{\Hypertarget{namespaceserver_a28b61ee7d155bf42d0ef310001f64c34}\label{namespaceserver_a28b61ee7d155bf42d0ef310001f64c34}} 
\index{server@{server}!lsm\_tree@{lsm\_tree}}
\index{lsm\_tree@{lsm\_tree}!server@{server}}
\doxysubsubsection{\texorpdfstring{lsm\_tree}{lsm\_tree}}
{\footnotesize\ttfamily server.\+lsm\+\_\+tree = None}

\mbox{\Hypertarget{namespaceserver_ad4526092e7ffb3a2fb5f5962e0f4a382}\label{namespaceserver_ad4526092e7ffb3a2fb5f5962e0f4a382}} 
\index{server@{server}!pid@{pid}}
\index{pid@{pid}!server@{server}}
\doxysubsubsection{\texorpdfstring{pid}{pid}}
{\footnotesize\ttfamily server.\+pid = asyncio.\+run(\mbox{\hyperlink{namespaceserver_a3f28bf6708def641aa9bdc29673f2a74}{start\+\_\+worker}}(\mbox{\hyperlink{namespaceserver_ad56c2d79af6c57024f72afe5f809303c}{host}}, \mbox{\hyperlink{namespaceserver_af7b39ba3404872fb79e91b08ed362768}{port}}))}

\mbox{\Hypertarget{namespaceserver_af7b39ba3404872fb79e91b08ed362768}\label{namespaceserver_af7b39ba3404872fb79e91b08ed362768}} 
\index{server@{server}!port@{port}}
\index{port@{port}!server@{server}}
\doxysubsubsection{\texorpdfstring{port}{port}}
{\footnotesize\ttfamily int server.\+port = 6379}

\mbox{\Hypertarget{namespaceserver_a0e03aa75669a1415bea1bbbdd0c92349}\label{namespaceserver_a0e03aa75669a1415bea1bbbdd0c92349}} 
\index{server@{server}!processes@{processes}}
\index{processes@{processes}!server@{server}}
\doxysubsubsection{\texorpdfstring{processes}{processes}}
{\footnotesize\ttfamily list server.\+processes = \mbox{[}$\,$\mbox{]}}

\mbox{\Hypertarget{namespaceserver_a9f38fe53de48f7ef32224eced3ebab4a}\label{namespaceserver_a9f38fe53de48f7ef32224eced3ebab4a}} 
\index{server@{server}!workers@{workers}}
\index{workers@{workers}!server@{server}}
\doxysubsubsection{\texorpdfstring{workers}{workers}}
{\footnotesize\ttfamily server.\+workers = cpu\+\_\+count()}

